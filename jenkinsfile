pipeline {
    agent any

       tools {
        nodejs 'nodejs16'
    }
    environment {
        SCANNER_HOME = tool 'sonar-scanner'
    }

    stages {


    stage("Sonarqube Analysis") {
        steps {
            withSonarQubeEnv('sonarqube-server') {
            sh "$SCANNER_HOME/bin/sonar-scanner \
            -Dsonar.projectName=Online-Notes-App \
            -Dsonar.scm.provider=git \
            -Dsonar.sources=. \
            -Dsonar.projectKey=Online-Notes-App \
            -Dsonar.login=sqp_be9da1ee2a56ee2f4a2763a25d06739061dd919d"
                    }
                }
            }   

  }
}
